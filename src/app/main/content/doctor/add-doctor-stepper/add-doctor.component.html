<div id="forms" class="page-layout simple fullwidth" fxLayout="column" fusePerfectScrollbar>

    <!-- HEADER -->
    <div class="header mat-accent-bg p-24 h-160" fxLayout="row" fxLayoutAlign="start center">
        <div fxLayout="column" fxLayoutAlign="center start">
            <div class="black-fg" fxLayout="row" fxLayoutAlign="start center">
                <mat-icon class="secondary-text s-16">home</mat-icon>
                <mat-icon class="secondary-text s-16">chevron_right</mat-icon>
                <span class="secondary-text">Licenciados</span>
            </div>
            <div class="h1 mt-16">Agregar licenciados</div>
        </div>
    </div>
    <!-- / HEADER -->

    <!-- CONTENT -->
    <div class="content p-24">

        <div class="horizontal-stepper-wrapper">

            <mat-horizontal-stepper class="mat-elevation-z4" [linear]="true">
                        <!-- / PASO 1 -->
                <mat-step [stepControl]="Step1">

                    <form [formGroup]="Step1" class="mat-white-bg p-24 mr-24 mb-24" fxLayout="column" fxLayoutAlign="start"
                          fxFlex="1 0 auto">

                        <ng-template matStepLabel>Datos personales</ng-template>

                        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto" fxLayoutWrap>
                          <mat-form-field fxFlex="50">
                            <input matInput placeholder="Nombre"  type="text" formControlName="name"
                                   [(ngModel)]="professional.name" required>

                          </mat-form-field>

                          <mat-form-field fxFlex="50">
                            <input matInput  placeholder="Apellido" type="text" formControlName="lastName"
                                   [(ngModel)]="professional.lastName" >
                          </mat-form-field>
                        </div>
                        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto" fxLayoutWrap>
                          <mat-form-field fxFlex="50">
                            <input matInput placeholder="Documento"  type="text" formControlName="id"
                                   [(ngModel)]="professional.id" minlength="6" maxlength="9"  >
                          </mat-form-field>

                          <mat-form-field fxFlex="50">
                            <input matInput placeholder="Teléfono"  type="text" formControlName="phonesNumber" type="text"
                                   [(ngModel)]="professional.phones.number" >
                          </mat-form-field>
                        </div>

                        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto" fxLayoutWrap>
                          <mat-form-field fxFlex="50">
                            <input matInput  placeholder="Email" type="email" formControlName="email"
                                   [(ngModel)]="professional.email">
                          </mat-form-field>

                          <mat-form-field fxFlex="25">
                            <input matInput [matDatepicker]="birthdayDatePicker" formControlName="birthDate" placeholder="Fecha Nacimiento"
                                   [(ngModel)]="professional.birthDate">
                            <mat-datepicker-toggle matSuffix [for]="birthdayDatePicker"></mat-datepicker-toggle>
                            <mat-datepicker #birthdayDatePicker></mat-datepicker>
                          </mat-form-field>

                          <mat-form-field fxFlex="25">
                            <mat-select placeholder="Genero"  formControlName="gender" [(ngModel)]="professional.gender">
                              <mat-option [value]="''">
                                Seleccionar genero
                              </mat-option>
                              <mat-option [value]="'m'">
                                Masculino
                              </mat-option>
                              <mat-option [value]="'f'">
                                Femenino
                              </mat-option>
                            </mat-select>
                          </mat-form-field>

                        </div>

                        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto" fxLayoutWrap>

                          <mat-form-field fxFlex="25">
                            <input type="text" placeholder="Provincia" aria-label="Provincia" formControlName="prov" [(ngModel)]="professional.address.state"
                                   matInput [formControl]="myControlProv" [matAutocomplete]="auto" (blur)="onChange()">
                            <mat-autocomplete #auto="matAutocomplete" [displayWith]="displayFnProv">
                              <mat-option *ngFor="let option of filteredOptionsProv | async" [value]="option.provincia">
                                {{ option.provincia }}
                              </mat-option>
                            </mat-autocomplete>
                          </mat-form-field>

                          <mat-form-field fxFlex="25">
                            <input type="text" placeholder="Ciudad" aria-label="Ciudad" formControlName="city" [(ngModel)]="professional.address.city"
                                   matInput [formControl]="myControlCity" [matAutocomplete]="auto2" >
                            <mat-autocomplete #auto2="matAutocomplete" [displayWith]="displayFnCity">
                              <mat-option *ngFor="let option of filteredOptionsCity | async" [value]="option">
                                {{ option }}
                              </mat-option>
                            </mat-autocomplete>
                          </mat-form-field>

                          <mat-form-field fxFlex="50">
                            <input matInput  placeholder="Dirección" type="text" formControlName="addressStreet" [(ngModel)]="professional.address.street">
                          </mat-form-field>

                        </div>

                        <div class="pt-24" fxLayout="row" fxLayoutAlign="center center">
                            <button mat-raised-button matStepperNext type="button" color="accent">
                                Siguiente
                            </button>
                        </div>

                    </form>

                </mat-step>

                <mat-step [stepControl]="Step2" >
                        <!-- / PASO 2 -->
                    <form [formGroup]="Step2" class="mat-white-bg  p-24  " fxLayout="column" fxLayoutAlign="start"
                          fxFlex="1 0 auto">

                        <ng-template matStepLabel>Informacion profesional</ng-template>

                        <div fxLayout="row" fxLayoutAlign="start center" fxFlex="1 0 auto" fxLayoutWrap>

                          <mat-form-field fxFlex="50">
                            <input matInput  placeholder="Licencia" type="text" formControlName="professionalLicense" [(ngModel)]="professional.license">
                          </mat-form-field>

                          <mat-form-field fxFlex="50">
                            <input matInput  placeholder="Especialidad" type="text" formControlName="professionalSpecialities" [(ngModel)]="professional.specialities">
                          </mat-form-field>

                        </div>

                        <div class="pt-24" fxLayout="row" fxLayoutAlign="center center">
                            <button class="mr-8" mat-raised-button matStepperPrevious type="button" color="accent">
                                Anterior
                            </button>
                            <button mat-raised-button matStepperNext type="button" color="accent">
                                Siguiente
                            </button>
                        </div>

                    </form>

                </mat-step>

                <mat-step [stepControl]="Step3">
                        <!-- / PASO 3 -->
                    <form [formGroup]="Step3" class="mat-white-bg  p-24 " fxLayout="column" fxLayoutAlign="start"
                          fxFlex="1 0 auto">

                        <ng-template matStepLabel>Obras sociales</ng-template>

                        <mat-form-field class="demo-chip-list">
                            <mat-chip-list #chipList>
                              <mat-chip class="mat-chip"
                                *ngFor="let socIns of professional.socialInsurance"
                                [selectable]="selectable"
                                [removable]="removable"
                                selected="true" [color]="primary"
                                (removed)="removeSocialInsurance(socIns)"
                                >
                                {{socIns.name}}
                                <mat-icon matChipRemove *ngIf="removable">cancel</mat-icon>
                              </mat-chip>
                              <input
                                placeholder="Seleccione sus obras sociales"
                                #socInsInput
                                [(ngModel)]="socialInsurance"
                                [formControl]="myControlSIns"
                                [matAutocomplete]="autoSocIns"
                                [matChipInputFor]="chipList"
                                [matChipInputSeparatorKeyCodes]="separatorKeysCodes"
                                [matChipInputAddOnBlur]="addOnBlur"/>
                            </mat-chip-list>
                            <mat-autocomplete #autoSocIns="matAutocomplete" (optionSelected)="selected()">
                              <mat-option *ngFor="let socIns of filteredOptionsSIns | async" [value]="socIns">
                                {{ socIns.name }}
                              </mat-option>
                            </mat-autocomplete>
                          </mat-form-field>

                        <div class="pt-24" fxLayout="row" fxLayoutAlign="center center">
                            <button class="mr-8" mat-raised-button matStepperPrevious type="button" color="accent">
                                Anterior
                            </button>
                            <button mat-raised-button matStepperNext type="button" color="accent">
                                Siguiente
                            </button>
                        </div>

                    </form>

                </mat-step>

                <mat-step [stepControl]="Step4">
                        <!-- / PASO 4 -->
                    <form [formGroup]="Step4" class="mat-white-bg  p-24" fxLayout="column" fxLayoutAlign="start"
                          fxFlex="1 0 auto">

                        <ng-template matStepLabel>Horarios</ng-template>


                        <div class="pt-24" fxLayout="row" fxLayoutAlign="center center">
                            <button class="mr-8" mat-raised-button matStepperPrevious type="button" color="accent">
                                Anterior
                            </button>
                            <button mat-raised-button matStepperNext type="button" color="accent">
                                Siguiente
                            </button>
                        </div>

                    </form>

                </mat-step>

                <mat-step>

                    <ng-template matStepLabel>Finalizar</ng-template>

                    <div class="h2 m-16" fxLayout="row" fxLayoutAlign="center center">
                        Gracias por completar todos los datos.
                    </div>

                    <div class="pt-24" fxLayout="row" fxLayoutAlign="center center">
                        <button class="mr-8" mat-raised-button matStepperPrevious type="button" color="accent">
                            Anterior
                        </button>
                        <button mat-raised-button type="button" color="accent" (click)="saveAll()">
                            Guardar
                        </button>
                    </div>

                </mat-step>

            </mat-horizontal-stepper>

        </div>

    </div>

</div>
